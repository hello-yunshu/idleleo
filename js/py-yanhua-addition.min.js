var _slicedToArray=function(){function sliceIterator(a,i){var b=[];var c=true;var d=false;var e=undefined;try{for(var f=a[Symbol.iterator](),_s;!(c=(_s=f.next()).done);c=true){b.push(_s.value);if(i&&b.length===i)break}}catch(err){d=true;e=err}finally{try{if(!c&&f["return"])f["return"]()}finally{if(d)throw e;}}return b}return function(a,i){if(Array.isArray(a)){return a}else if(Symbol.iterator in Object(a)){return sliceIterator(a,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}}}();var _createClass=function(){function defineProperties(a,b){for(var i=0;i<b.length;i++){var c=b[i];c.enumerable=c.enumerable||false;c.configurable=true;if("value"in c)c.writable=true;Object.defineProperty(a,c.key,c)}}return function(a,b,c){if(b)defineProperties(a.prototype,b);if(c)defineProperties(a,c);return a}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var i=0,arr2=Array(a.length);i<a.length;i++){arr2[i]=a[i]}return arr2}else{return Array.from(a)}}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function");}}var brightAndTropical=['#F52549','#FA6775','#FFD64D','#9BC01C'];var coolBlues=['#003B46','#07575B','#66A5AD','#C4DFE6'];var lemonadeStand=['#F70025','#F25C00','#F9A603','#F29F00'];var nightLife=['#00CFFA','#FF0038','#FFCE38','#FFFFFF'];var brightAndPainterly=['#061283','#FD3C3C','#FFB74C','#138D90'];var COLOR_SETS={'Bright and tropical':brightAndTropical,'Cool blues':coolBlues,'Lemonade stand':lemonadeStand,'Night life':nightLife,'Bright and painterly':brightAndPainterly};var parameters={autoCreation:'true',autoCreationDelay:1000,particlesCount:25,colors:'Bright and painterly',particleRadius:5,speed:6,deceleration:0.04,maxLife:1200,creationOnMousedownDelay:50};var canvas=document.querySelector('#yanhua canvas');var canvasCtx=canvas.getContext('2d');var particles=[];function setCanvasSize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight}setCanvasSize();window.addEventListener('resize',setCanvasSize);var Particle=function(){function Particle(x,y){_classCallCheck(this,Particle);var a=parameters.maxLife,radius=parameters.radius,speed=parameters.speed,colors=parameters.colors,deceleration=parameters.deceleration;var b=COLOR_SETS[colors];this.framesCount=Math.ceil(a/(1000/60));this.framesRendered=0;this.opacity=1;this.opacitySpeed=1/this.framesCount;this.x=x;this.y=y;this.deceleration=deceleration;this.color=b[Math.floor(Math.random()*b.length)];this.speedX=random(-speed,speed);this.speedY=random(-speed,speed);this.radius=parameters.particleRadius;this.radiusSpeed=this.radius/this.framesCount}_createClass(Particle,[{key:'frame',value:function frame(a){a.fillStyle=this.color;a.globalAlpha=this.opacity;a.beginPath();a.arc(this.x,this.y,this.radius,0,2*Math.PI);a.fill();this.opacity-=this.opacitySpeed;if(this.opacity<0){this.opacity=0}this.x+=this.speedX;this.y+=this.speedY;this.speedX*=1-this.deceleration;this.speedY*=1-this.deceleration;this.radius=this.radius-this.radiusSpeed;if(this.radius<0){this.radius=0}this.framesRendered++;return this.framesCount>=this.framesRendered}}]);return Particle}();function particlesFrame(){canvasCtx.clearRect(0,0,canvas.width,canvas.height);particles=particles.filter(function(p){return p.frame(canvasCtx)});window.requestAnimationFrame(particlesFrame)}function addParticlesAtRandomPoint(){var x=canvas.width*Math.random();var y=canvas.height*Math.random();if(!document.hidden){var a;var b=new Array(parameters.particlesCount).fill(0).map(function(){return new Particle(x,y)});(a=particles).push.apply(a,_toConsumableArray(b))}if(parameters.autoCreation==='true'){setTimeout(addParticlesAtRandomPoint,parameters.autoCreationDelay)}}addParticlesAtRandomPoint();particlesFrame();function random(a,b){return a+Math.random()*(b-a)}function addParticlesAtPoint(x,y){var a;var b=new Array(parameters.particlesCount).fill(0).map(function(){return new Particle(x,y)});(a=particles).push.apply(a,_toConsumableArray(b))}var mouseX=0;var mouseY=0;var shouldAdd=false;function startAdding(){shouldAdd=true}canvas.addEventListener('mousedown',startAdding);canvas.addEventListener('touchstart',function(e){var a=_slicedToArray(e.touches,1),_e$touches$=a[0],clientX=_e$touches$.clientX,clientY=_e$touches$.clientY;updatePositions(clientX,clientY);startAdding()});function updatePositions(x,y){mouseX=x;mouseY=y}canvas.addEventListener('mousemove',function(e){updatePositions(e.clientX,e.clientY)});canvas.addEventListener('touchmove',function(e){var a=_slicedToArray(e.touches,1),_e$touches2$=a[0],clientX=_e$touches2$.clientX,clientY=_e$touches2$.clientY;updatePositions(clientX,clientY)});function stopAdding(){shouldAdd=false}document.addEventListener('mouseup',stopAdding);canvas.addEventListener('touchend',stopAdding);